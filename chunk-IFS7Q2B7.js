import{a as ae}from"./chunk-5APVIQA2.js";import{a as X,b as Y}from"./chunk-QDLNQE75.js";import{d as Z,f as ee,h as te,i as ie,j as ne,k as re,l as oe}from"./chunk-4SQIPEAG.js";import"./chunk-YW2BAGC2.js";import{l as K,m as Q}from"./chunk-VWDMRFIH.js";import"./chunk-G5SJ6GXI.js";import{F as w}from"./chunk-F4TP7GMF.js";import{f as R,i as J}from"./chunk-ESV5JUBV.js";import{a as W,b as B,c as F}from"./chunk-53X63LS4.js";import"./chunk-S7RO6GYK.js";import"./chunk-3TK72QRU.js";import{b as $}from"./chunk-ALOO4GGR.js";import{Hb as G,Xb as v,jb as U,mb as A,pb as j,xb as q,zb as H}from"./chunk-6W6AWOG5.js";import{Ca as c,Cb as I,Da as p,Dc as S,Ec as y,Fc as C,Gc as L,Gd as k,Ib as u,Ob as d,_d as D,ac as a,bc as m,cc as N,gc as x,ge as O,jc as g,lc as _,nb as T,od as V,oe as f,pd as E,qb as r,vb as M,xc as l,xd as P,yc as h,zc as z}from"./chunk-ERX3GUWY.js";function se(s,i){if(s&1&&(a(0,"div",6)(1,"b"),l(2),m()()),s&2){let e=_();r(2),h(e.$t("_buildTip"))}}function le(s,i){s&1&&(a(0,"div",6),l(1," e.g. https://example.com/search?q=${q}\n"),m())}function ce(s,i){if(s&1){let e=x();a(0,"input",22),C("ngModelChange",function(n){c(e);let o=_().$implicit;return y(o.url,n)||(o.url=n),p(n)}),m()}if(s&2){let e=_().$implicit;S("ngModel",e.url)}}function pe(s,i){if(s&1&&N(0,"img",23),s&2){let e=_().$implicit;d("src",e.icon,T)}}function de(s,i){if(s&1){let e=x();a(0,"a",24),g("nzOnConfirm",function(){c(e);let n=_().index,o=_();return p(o.handleDelete(n))}),l(1),m()}if(s&2){let e=_(2);d("nzPopconfirmTitle",e.$t("_confirmDel")),r(),z(" ",e.$t("_del")," ")}}function _e(s,i){if(s&1){let e=x();a(0,"tr")(1,"td",7)(2,"input",8),C("ngModelChange",function(n){let o=c(e).$implicit;return y(o.name,n)||(o.name=n),p(n)}),m()(),a(3,"td",9),u(4,ce,1,1,"input",10),m(),a(5,"td",11),u(6,pe,1,1,"img",12),a(7,"input",13),C("ngModelChange",function(n){let o=c(e).$implicit;return y(o.icon,n)||(o.icon=n),p(n)}),m(),a(8,"app-upload",14),g("onChange",function(n){let o=c(e).index,me=_();return p(me.onChangeUpload(n,o))}),m()(),a(9,"td",9)(10,"input",15),C("ngModelChange",function(n){let o=c(e).$implicit;return y(o.placeholder,n)||(o.placeholder=n),p(n)}),m()(),a(11,"td",16)(12,"nz-switch",17),C("ngModelChange",function(n){let o=c(e).$implicit;return y(o.blocked,n)||(o.blocked=n),p(n)}),m()(),a(13,"td",18)(14,"a",19),g("click",function(){let n=c(e).index,o=_();return p(o.moveUp(n))}),l(15),m(),a(16,"a",20),g("click",function(){let n=c(e).index,o=_();return p(o.moveDown(n))}),l(17),m(),u(18,de,2,2,"a",21),m()()}if(s&2){let e=i.$implicit,t=_();r(2),S("ngModel",e.name),r(2),d("ngIf",!e.isInner),r(2),d("ngIf",e.icon),r(),S("ngModel",e.icon),r(3),S("ngModel",e.placeholder),r(2),S("ngModel",e.blocked),r(3),h(t.$t("_moveUp")),r(2),h(t.$t("_moveDown")),r(),d("ngIf",!e.isInner)}}var b=class s{constructor(i,e){this.message=i;this.modal=e}$t=f;isSelfDevelop=D;searchList=O;submitting=!1;handleAdd(){this.searchList.some(e=>!e.name.trim())||this.searchList.unshift({name:"",url:"",icon:"",placeholder:"",blocked:!1,isInner:!1})}handleDelete(i){this.searchList.splice(i,1)}moveUp(i){if(i===0)return;let e=this.searchList[i],t=this.searchList[i-1];this.searchList[i-1]=e,this.searchList[i]=t}moveDown(i){if(i===this.searchList.length-1)return;let e=this.searchList[i],t=this.searchList[i+1];this.searchList[i+1]=e,this.searchList[i]=t}handleSubmit(){this.submitting||this.modal.info({nzTitle:f("_syncDataOut"),nzOkText:f("_confirmSync"),nzContent:f("_confirmSyncTip"),nzOnOk:()=>{let i={};if(this.searchList.forEach(e=>{e.name.trim()&&(i[e.name]=null)}),Object.keys(i).length!==this.searchList.length){this.message.error(f("_repeatAdd"));return}this.submitting=!0,G({message:"update search",content:JSON.stringify(this.searchList),path:k}).then(()=>{this.message.success(f("_saveSuccess"))}).finally(()=>{this.submitting=!1})}})}trackByItem(i,e){return e.name}onChangeUpload(i,e){this.searchList[e].icon=i.cdn}static \u0275fac=function(e){return new(e||s)(M(v),M(w))};static \u0275cmp=I({type:s,selectors:[["system-tag"]],features:[L([w,v])],decls:24,vars:15,consts:[["basicTable",""],["nz-button","",1,"add-btn",3,"click","nzLoading"],["nz-button","","nzType","primary",3,"click","nzLoading"],["class","mb-2",4,"ngIf"],[3,"nzData"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-2"],["width","150px"],["nz-input","","maxlength","10",3,"ngModelChange","ngModel"],["width","220px"],["nz-input","",3,"ngModel","ngModelChange",4,"ngIf"],["width","260px",1,"whitespace-nowrap"],["class","icon",3,"src",4,"ngIf"],["nz-input","","type","text",2,"width","180px",3,"ngModelChange","ngModel"],[3,"onChange"],["nz-input","","maxlength","50",3,"ngModelChange","ngModel"],["width","100px"],[3,"ngModelChange","ngModel"],[1,"select-none"],[3,"click"],[1,"ml-2.5",3,"click"],["nz-popconfirm","","nzPopconfirmPlacement","rightTop","nzOkType","danger","nzPopconfirmPlacement","bottom","class","ml-2.5 !text-red-500",3,"nzPopconfirmTitle","nzOnConfirm",4,"ngIf"],["nz-input","",3,"ngModelChange","ngModel"],[1,"icon",3,"src"],["nz-popconfirm","","nzPopconfirmPlacement","rightTop","nzOkType","danger","nzPopconfirmPlacement","bottom",1,"ml-2.5","!text-red-500",3,"nzOnConfirm","nzPopconfirmTitle"]],template:function(e,t){if(e&1){let n=x();a(0,"button",1),g("click",function(){return c(n),p(t.handleAdd())}),l(1),m(),a(2,"button",2),g("click",function(){return c(n),p(t.handleSubmit())}),l(3),m(),u(4,se,3,1,"div",3)(5,le,2,0,"div",3),a(6,"nz-table",4,0)(8,"thead")(9,"tr")(10,"th"),l(11),m(),a(12,"th"),l(13),m(),a(14,"th"),l(15),m(),a(16,"th"),l(17),m(),a(18,"th"),l(19),m(),a(20,"th"),l(21),m()()(),a(22,"tbody"),u(23,_e,19,9,"tr",5),m()()}e&2&&(d("nzLoading",t.submitting),r(),z(" ",t.$t("_addRow"),`
`),r(),d("nzLoading",t.submitting),r(),z(" ",t.$t("_save"),`
`),r(),d("ngIf",!t.isSelfDevelop),r(),d("ngIf",t.isSelfDevelop),r(),d("nzData",t.searchList),r(5),h(t.$t("_engineName")),r(2),h(t.$t("_engineUrl")),r(2),h(t.$t("_icon")),r(2),h(t.$t("_desc")),r(2),h(t.$t("_isDisable")),r(2),h(t.$t("_action")),r(2),d("ngForOf",t.searchList)("ngForTrackBy",t.trackByItem))},dependencies:[H,U,A,q,j,P,V,E,F,B,W,$,oe,ie,Z,ee,re,te,ne,J,R,ae,Y,X,Q,K],styles:[".add-btn[_ngcontent-%COMP%]{margin-bottom:20px;margin-right:20px}.icon[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px;object-fit:cover}  #file{vertical-align:middle;margin-left:10px}  #file .anticon{font-size:20px}"]})};export{b as default};
